(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["itemdetails"],{"2c4d":function(t,e,i){},"32a2":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("InfoHeader",{attrs:{itemDetails:t.itemDetails}}),i("v-tabs",{attrs:{grow:"","show-arrows":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[t._l(t.tabs,(function(e){return i("v-tab",{key:e.label},[t._v(" "+t._s(t.$t(e.label)+" ("+e.items.length+")"))])})),t._l(t.tabs,(function(e){return i("v-tab-item",{key:e.label},[i("v-card",{attrs:{flat:""}},[i("v-list",{attrs:{"two-line":""}},[i("RecycleScroller",{staticClass:"scroller",attrs:{items:e.items,"item-size":72,"key-field":"item_id","page-mode":""},scopedSlots:t._u([{key:"default",fn:function(r){var a=r.item;return[i("ListviewItem",{attrs:{item:a,hideavatar:t.$store.isMobile||"album_tracks"===e.label,hidetracknum:"album_tracks"!==e.label,hideproviders:t.$store.isMobile,hidelibrary:t.$store.isMobile,hidemenu:3==a.media_type&&t.$store.isMobile},on:{click:t.itemClicked,menuClick:t.menuClick}})]}}],null,!0)})],1)],1)],1)}))],2)],1)},a=[],s=(i("a4d3"),i("e01a"),i("d28b"),i("b0c0"),i("d3b7"),i("3ca3"),i("ddb0"),i("284c")),n=(i("96cf"),i("89ba")),o=i("d3cc"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}]},[r("v-card",{staticClass:"white--text",staticStyle:{"margin-top":"-60px"},attrs:{tile:"",color:"cyan darken-2",img:i("abd2")}},[r("v-img",{staticClass:"white--text",attrs:{width:"100%",height:"300",position:"center top",src:t.$server.getImageUrl(t.itemDetails,"fanart"),gradient:"to bottom, rgba(0,0,0,.85), rgba(66,66,66,.85)"}},[r("div",{staticClass:"text-xs-center",staticStyle:{height:"40px"},attrs:{id:"whitespace_top"}}),t.itemDetails?r("v-layout",{staticStyle:{"margin-left":"5pxmargin-right:5px"}},[t.$store.isMobile?t._e():r("v-flex",{attrs:{xs5:"","pa-5":""}},[r("v-img",{staticStyle:{border:"4px solid rgba(0,0,0,.33)","border-radius":"6px"},attrs:{src:t.$server.getImageUrl(t.itemDetails),"lazy-src":i("4bfb"),width:"220px",height:"220px"}}),r("div",{staticStyle:{position:"fixed","margin-top":"-45px","margin-left":"10px"}},[r("ProviderIcons",{attrs:{providerIds:t.itemDetails.provider_ids,height:30}})],1)],1),r("v-flex",[r("v-card-title",{staticClass:"headline",staticStyle:{"text-shadow":"1px 1px #000000"}},[t._v(" "+t._s(t.itemDetails.name)+" ")]),r("v-card-subtitle",[t.itemDetails.version?r("div",{staticClass:"caption",staticStyle:{color:"white"}},[t._v(t._s(t.itemDetails.version)+" ")]):t._e(),t.itemDetails.artists?r("div",{staticClass:"title",staticStyle:{"text-shadow":"1px 1px #000000"}},[r("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("person")]),t._l(t.itemDetails.artists,(function(e,i){return r("span",{key:e.db_id},[r("a",{staticStyle:{color:"primary"},on:{click:function(i){return t.artistClick(e)}}},[t._v(t._s(e.name))]),i+1<t.itemDetails.artists.length?r("span",{key:i,staticStyle:{color:"#cccccc"}},[t._v(t._s(" / "))]):t._e()])}))],2):t._e(),t.itemDetails.artist?r("div",{staticClass:"title"},[r("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("person")]),r("a",{staticStyle:{color:"primary"},on:{click:function(e){return t.artistClick(t.itemDetails.artist)}}},[t._v(t._s(t.itemDetails.artist.name))])],1):t._e(),t.itemDetails.owner?r("div",{staticClass:"title",staticStyle:{"text-shadow":"1px 1px #000000"}},[r("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("person")]),r("a",{staticStyle:{color:"primary"}},[t._v(t._s(t.itemDetails.owner))])],1):t._e(),t.itemDetails.album?r("div",{staticStyle:{color:"#ffffff","text-shadow":"1px 1px #000000"}},[r("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"#cccccc",small:""}},[t._v("album")]),r("a",{staticStyle:{color:"#ffffff"},on:{click:function(e){return t.albumClick(t.itemDetails.album)}}},[t._v(t._s(t.itemDetails.album.name))])],1):t._e()]),r("div",{staticStyle:{"margin-left":"14px"}},[r("v-btn",{attrs:{color:"primary",tile:""},on:{click:function(e){return t.$server.$emit("showPlayMenu",t.itemDetails)}}},[r("v-icon",{attrs:{left:"",dark:""}},[t._v("play_circle_filled")]),t._v(" "+t._s(t.$t("play"))+" ")],1),!t.$store.isMobile&&t.itemDetails.in_library&&0==t.itemDetails.in_library.length?r("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(e){return t.toggleLibrary(t.itemDetails)}}},[r("v-icon",{attrs:{left:"",dark:""}},[t._v("favorite_border")]),t._v(" "+t._s(t.$t("add_library"))+" ")],1):t._e(),!t.$store.isMobile&&t.itemDetails.in_library&&t.itemDetails.in_library.length>0?r("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(e){return t.toggleLibrary(t.itemDetails)}}},[r("v-icon",{attrs:{left:"",dark:""}},[t._v("favorite")]),t._v(" "+t._s(t.$t("remove_library"))+" ")],1):t._e()],1),r("v-card-subtitle",{staticClass:"body-2"},[r("div",{staticClass:"justify-left",staticStyle:{"text-shadow":"1px 1px #000000"}},[r("ReadMore",{attrs:{text:t.getDescription(),"max-chars":t.$store.isMobile?100:300}})],1),t.$store.isMobile?r("ProviderIcons",{attrs:{providerIds:t.itemDetails.provider_ids,height:25,dark:!0}}):t._e()],1)],1)],1):t._e()],1)],1)],1)},c=[],u=(i("4160"),i("caad"),i("fb6a"),i("4e827"),i("159b"),i("2b0e")),d=i("e00a"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a",{staticStyle:{color:"white"},domProps:{innerHTML:t._s(t.formattedString)},on:{click:function(e){return t.triggerReadMore(e,!0)}}}),i("v-dialog",{attrs:{width:"80%"},model:{value:t.isReadMore,callback:function(e){t.isReadMore=e},expression:"isReadMore"}},[i("v-card",[i("v-card-text",{staticClass:"subheading",domProps:{innerHTML:t._s("<br>"+t.text)}})],1)],1)],1)},v=[],p=(i("a9e3"),i("9911"),u["a"].extend({props:{lessStr:{type:String,default:""},text:{type:String,required:!0},link:{type:String,default:"#"},maxChars:{type:Number,default:100}},data:function(){return{isReadMore:!1}},computed:{formattedString:function(){var t=this.text;return this.text.length>this.maxChars&&(t=t.substring(0,this.maxChars)+"..."),t}},mounted:function(){},methods:{triggerReadMore:function(t,e){"#"===this.link&&t.preventDefault(),null===this.lessStr&&""===this.lessStr||(this.isReadMore=e)}}})),f=p,h=i("2877"),b=i("6544"),y=i.n(b),g=i("b0af"),_=i("99d9"),x=i("169a"),k=Object(h["a"])(f,m,v,!1,null,null,null),w=k.exports;y()(k,{VCard:g["a"],VCardText:_["b"],VDialog:x["a"]});var D=i("85fe");u["a"].use(D["a"]);var S=u["a"].extend({components:{ProviderIcons:d["a"],ReadMore:w},props:["itemDetails"],data:function(){return{}},mounted:function(){},created:function(){this.$store.topBarColor="transparent"},beforeDestroy:function(){this.$store.topBarColor="#424242"},methods:{visibilityChanged:function(t,e){this.$store.topBarColor=t?"transparent":"#424242"},artistClick:function(t){var e="/artists/"+t.item_id;this.$router.push({path:e,query:{provider:t.provider}})},albumClick:function(t){var e="/albums/"+t.item_id;this.$router.push({path:e,query:{provider:t.provider}})},toggleLibrary:function(t){this.$server.toggleLibrary(t)},getDescription:function(){var t="";return this.itemDetails?this.itemDetails.metadata&&this.itemDetails.metadata.description?this.itemDetails.metadata.description:this.itemDetails.metadata&&this.itemDetails.metadata.biography?this.itemDetails.metadata.biography:this.itemDetails.metadata&&this.itemDetails.metadata.copyright?this.itemDetails.metadata.copyright:(this.itemDetails.artists&&this.itemDetails.artists.forEach((function(e){e.metadata&&e.metadata.biography&&(t=e.metadata.biography)})),t):""},getUniqueProviders:function(){var t=[],e=[];if(!this.providerIds)return[];var i=this.providerIds.slice();i.sort((function(t,e){return t.quality<e.quality?1:e.quality<t.quality?-1:0}));var r=!0,a=!1,s=void 0;try{for(var n,o=i[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var l=n.value;t.includes(l.provider)||(e.push(l),t.push(l.provider))}}catch(c){a=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return e},getFileFormatLogo:function(t){return 0===t.quality?"mp3.png":1===t.quality?"vorbis.png":2===t.quality?"aac.png":t.quality>2?"flac.png":void 0},getFileFormatDesc:function(t){var e="";return t.details&&(e+=" "+t.details),e}}}),C=S,$=i("8336"),I=i("0e8f"),M=i("132d"),O=i("adda"),R=i("a722"),T=Object(h["a"])(C,l,c,!1,null,null,null),V=T.exports;y()(T,{VBtn:$["a"],VCard:g["a"],VCardSubtitle:_["a"],VCardTitle:_["c"],VFlex:I["a"],VIcon:M["a"],VImg:O["a"],VLayout:R["a"]});var j={components:{ListviewItem:o["a"],InfoHeader:V},props:{media_id:String,provider:String,media_type:String},data:function(){return{itemDetails:{},items:[],activeTab:0,tabs:[]}},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getItemDetails();case 2:for("artists"===this.media_type?this.tabs=[{label:"artist_toptracks",endpoint:"artists/"+this.media_id+"/toptracks",items:[]},{label:"artist_albums",endpoint:"artists/"+this.media_id+"/albums",items:[]}]:"albums"===this.media_type?this.tabs=[{label:"album_tracks",endpoint:"albums/"+this.media_id+"/tracks",items:[]},{label:"album_versions",endpoint:"albums/"+this.media_id+"/versions",items:[]}]:"tracks"===this.media_type?this.tabs=[{label:"track_versions",endpoint:"tracks/"+this.media_id+"/versions",items:[]}]:"playlists"===this.media_type&&(this.tabs=[{label:"playlist_tracks",endpoint:"playlists/"+this.media_id+"/tracks",paginated:!0,items:[]}]),e=!0,i=!1,r=void 0,t.prev=6,a=this.tabs[Symbol.iterator]();!(e=(s=a.next()).done);e=!0)n=s.value,this.getTabItems(n);t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](6),i=!0,r=t.t0;case 14:t.prev=14,t.prev=15,e||null==a.return||a.return();case 17:if(t.prev=17,!i){t.next=20;break}throw r;case 20:return t.finish(17);case 21:return t.finish(14);case 22:case"end":return t.stop()}}),t,this,[[6,10,14,22],[15,,17,21]])})));function e(){return t.apply(this,arguments)}return e}(),methods:{itemClicked:function(t){var e="";if(1===t.media_type)e="/artists/"+t.item_id;else if(2===t.media_type)e="/albums/"+t.item_id;else{if(4!==t.media_type)return void this.$server.$emit("showContextMenu",t);e="/playlists/"+t.item_id}this.$router.push({path:e,query:{provider:t.provider}})},menuClick:function(t){this.$server.$emit("showContextMenu",t)},getItemDetails:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.loading=!0,e=this.media_type+"/"+this.media_id,t.next=4,this.$server.getData(e,{provider:this.provider});case 4:i=t.sent,this.itemDetails=i,this.$store.windowtitle=i.name,this.$store.loading=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTabItems:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var i,r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=0,r=50,a="paginated"in e&&e.paginated;case 3:return t.next=6,this.$server.getData(e.endpoint,{offset:i,limit:r,provider:this.provider});case 6:if(o=t.sent,o&&0!==o.length){t.next=9;break}return t.abrupt("break",15);case 9:if((n=e.items).push.apply(n,Object(s["a"])(o)),i+=r,!(o.length<r)&&a){t.next=13;break}return t.abrupt("break",15);case 13:t.next=3;break;case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},q=j,L=(i("b499"),i("8860")),P=i("71a3"),A=i("c671"),E=i("fe57"),z=Object(h["a"])(q,r,a,!1,null,"2c27af9b",null);e["default"]=z.exports;y()(z,{VCard:g["a"],VList:L["a"],VTab:P["a"],VTabItem:A["a"],VTabs:E["a"]})},"85fe":function(t,e,i){"use strict";(function(t){function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function n(t){return o(t)||l(t)||c()}function o(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){var e;return e="function"===typeof t?{callback:t}:t,e}function d(t,e){var i,r,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];if(a=c,!i||o!==r){var d=s.leading;"function"===typeof d&&(d=d(o,r)),i&&o===r||!d||t.apply(void 0,[o].concat(n(a))),r=o,clearTimeout(i),i=setTimeout((function(){t.apply(void 0,[o].concat(n(a))),i=0}),e)}};return o._clear=function(){clearTimeout(i),i=null},o}function m(t,e){if(t===e)return!0;if("object"===i(t)){for(var r in t)if(!m(t[r],e[r]))return!1;return!0}return!1}var v=function(){function t(e,i,a){r(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(i,a)}return s(t,[{key:"createObserver",value:function(t,e){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=u(t),this.callback=function(t,e){i.options.callback(t,e),t&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var r=this.options.throttleOptions||{},a=r.leading;this.callback=d(this.callback,this.options.throttle,{leading:function(t){return"both"===a||"visible"===a&&t||"hidden"===a&&!t}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(t){var e=t[0];if(t.length>1){var r=t.find((function(t){return t.isIntersecting}));r&&(e=r)}if(i.callback){var a=e.isIntersecting&&e.intersectionRatio>=i.threshold;if(a===i.oldResult)return;i.oldResult=a,i.callback(a,e)}}),this.options.intersection),e.context.$nextTick((function(){i.observer&&i.observer.observe(i.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}]),t}();function p(t,e,i){var r=e.value;if(r)if("undefined"===typeof IntersectionObserver);else{var a=new v(t,r,i);t._vue_visibilityState=a}}function f(t,e,i){var r=e.value,a=e.oldValue;if(!m(r,a)){var s=t._vue_visibilityState;r?s?s.createObserver(r,i):p(t,{value:r},i):h(t)}}function h(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var b={bind:p,update:f,unbind:h};function y(t){t.directive("observe-visibility",b)}var g={version:"0.4.6",install:y},_=null;"undefined"!==typeof window?_=window.Vue:"undefined"!==typeof t&&(_=t.Vue),_&&_.use(g),e["a"]=g}).call(this,i("c8ba"))},abd2:function(t,e,i){t.exports=i.p+"img/info_gradient.4db55f47.jpg"},b499:function(t,e,i){"use strict";var r=i("2c4d"),a=i.n(r);a.a}}]);
//# sourceMappingURL=itemdetails.b7fcbe37.js.map