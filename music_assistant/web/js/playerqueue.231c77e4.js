(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["playerqueue"],{b097:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("v-tabs",{attrs:{grow:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[i("v-tab",[e._v(" "+e._s(e.$t("queue_next_tracks")+" ("+e.next_items.length+")"))]),i("v-tab-item",[i("v-list",{attrs:{"two-line":""}},[i("RecycleScroller",{staticClass:"scroller",attrs:{items:e.next_items,"item-size":72,"key-field":"queue_item_id","page-mode":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[i("ListviewItem",{attrs:{item:n,hideavatar:3==n.media_type&&e.$store.isMobile,hidetracknum:!0,hideproviders:e.$store.isMobile,hidelibrary:e.$store.isMobile,hidemenu:e.$store.isMobile,onclickHandler:e.itemClicked}})]}}])})],1)],1),i("v-tab",[e._v(" "+e._s(e.$t("queue_previous_tracks")+" ("+e.previous_items.length+")"))]),i("v-tab-item",[i("v-list",{attrs:{"two-line":""}},[i("RecycleScroller",{staticClass:"scroller",attrs:{items:e.previous_items,"item-size":72,"key-field":"queue_item_id","page-mode":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[i("ListviewItem",{attrs:{item:n,hideavatar:3==n.media_type&&e.$store.isMobile,hidetracknum:!0,hideproviders:e.$store.isMobile,hidelibrary:e.$store.isMobile,hidemenu:e.$store.isMobile,onclickHandler:e.itemClicked}})]}}])})],1)],1),i("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"align-self-center mr-4",attrs:{text:""}},n),[e._v(" "+e._s(e.$t("queue_options"))+" "),i("v-icon",{attrs:{right:""}},[e._v("arrow_drop_down")])],1)]}}])},[i("v-list",[i("v-list-item",{on:{click:function(t){return e.sendQueueCommand("repeat_enabled",!e.playerQueueDetails.repeat_enabled)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("repeat")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(e.playerQueueDetails.repeat_enabled?e.$t("disable_repeat"):e.$t("enable_repeat"))}})],1)],1),i("v-list-item",{on:{click:function(t){return e.sendQueueCommand("shuffle_enabled",!e.playerQueueDetails.shuffle_enabled)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("shuffle")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(e.playerQueueDetails.shuffle_enabled?e.$t("disable_shuffle"):e.$t("enable_shuffle"))}})],1)],1),i("v-list-item",{on:{click:function(t){return e.sendQueueCommand("clear")}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("clear")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(e.$t("queue_clear"))}})],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},model:{value:e.showPlayMenu,callback:function(t){e.showPlayMenu=t},expression:"showPlayMenu"}},[i("v-card",[i("v-subheader",{staticClass:"title"},[e._v(e._s(e.selectedItem.name))]),i("v-list",[i("v-list-item",{on:{click:function(t){return e.sendQueueCommand("index",e.selectedItem.queue_item_id)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("play_circle_outline")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(e.$t("play_now"))}})],1)],1),i("v-list-item",{on:{click:function(t){return e.sendQueueCommand("next",e.selectedItem.queue_item_id)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("queue_play_next")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(e.$t("play_next"))}})],1)],1),i("v-list-item",{on:{click:function(t){return e.sendQueueCommand("move_up",e.selectedItem.queue_item_id)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("arrow_upward")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(e.$t("queue_move_up"))}})],1)],1),i("v-list-item",{on:{click:function(t){return e.sendQueueCommand("move_down",e.selectedItem.queue_item_id)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:e._s("arrow_downward")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s(e.$t("queue_move_down"))}})],1)],1)],1)],1)],1)],1)},s=[],r=(i("fb6a"),i("4fad"),i("e587")),a=(i("96cf"),i("89ba")),o=i("2b0e"),u=i("d3cc"),l={components:{ListviewItem:u["a"]},props:{},data:function(){return{items:[],activeTab:0,playerQueueDetails:{},showPlayMenu:!1,selectedItem:{}}},computed:{next_items:function(){return this.playerQueueDetails?this.items.slice(this.playerQueueDetails.cur_index):[]},previous_items:function(){return this.playerQueueDetails&&this.$server.activePlayer?this.items.slice(0,this.playerQueueDetails.cur_index):[]}},created:function(){this.$store.windowtitle=this.$t("queue"),this.$server.$on("queue updated",this.onQueueDetailsEvent),this.$server.$on("queue items updated",this.onQueueItemsEvent),this.$server.$on("new player selected",this.activePlayerChanged),this.$server.activePlayerId&&this.activePlayerChanged()},methods:{itemClicked:function(e){this.selectedItem=e,this.showPlayMenu=!this.showPlayMenu},activePlayerChanged:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="players/"+this.$server.activePlayerId+"/queue",e.next=3,this.$server.getData(t);case 3:return i=e.sent,e.next=6,this.onQueueDetailsEvent(i);case 6:return e.next=8,this.onQueueItemsEvent(i);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onQueueDetailsEvent:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i,n,s,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.player_id===this.$server.activePlayerId)for(i=0,n=Object.entries(t);i<n.length;i++)s=Object(r["a"])(n[i],2),a=s[0],u=s[1],o["a"].set(this.playerQueueDetails,a,u);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onQueueItemsEvent:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.player_id!==this.$server.activePlayerId){e.next=4;break}return i="players/"+t.player_id+"/queue/items",e.next=4,this.$server.getAllItems(i,this.items);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),sendQueueCommand:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i="players/"+this.$server.activePlayerId+"/queue/"+e;this.$server.putData(i,t)}}},c=l,m=i("2877"),d=i("6544"),v=i.n(d),p=i("8336"),_=i("b0af"),h=i("169a"),f=i("132d"),y=i("8860"),b=i("da13"),w=i("5d23"),$=i("34c3"),x=i("e449"),C=i("e0c7"),k=i("71a3"),P=i("c671"),I=i("fe57"),Q=Object(m["a"])(c,n,s,!1,null,null,null);t["default"]=Q.exports;v()(Q,{VBtn:p["a"],VCard:_["a"],VDialog:h["a"],VIcon:f["a"],VList:y["a"],VListItem:b["a"],VListItemContent:w["a"],VListItemIcon:$["a"],VListItemTitle:w["c"],VMenu:x["a"],VSubheader:C["a"],VTab:k["a"],VTabItem:P["a"],VTabs:I["a"]})}}]);
//# sourceMappingURL=playerqueue.231c77e4.js.map